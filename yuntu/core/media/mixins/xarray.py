from .numpy import NumpyMixin


class XArrayMixin(NumpyMixin):
    def __getattribute__(self, name):
        if name in XARRAY_ATTRIBUTES:
            return self.array.__getattribute__(name)
        return super().__getattribute__(name)

    def grid(self):
        pass


XARRAY_ATTRIBUTES = {
    "T",
    "attrs",
    "chunks",
    "coords",
    "data",
    "dims",
    "dtype",
    "encoding",
    "imag",
    "indexes",
    "loc",
    "name",
    "nbytes",
    "ndim",
    "real",
    "shape",
    "size",
    "sizes",
    "values",
    "variable",
    "all",
    "any",
    "argmax",
    "argmin",
    "argsort",
    "assign_attrs",
    "assign_coords",
    "astype",
    "bfill",
    "broadcast_equals",
    "broadcast_like",
    "chunk",
    "clip",
    "close",
    "coarsen",
    "combine_first",
    "compute",
    "conj",
    "conjugate",
    "copy",
    "count",
    "cumprod",
    "cumsum",
    "cumulative_integrate",
    "curvefit",
    "diff",
    "differentiate",
    "dot",
    "drop",
    "drop_isel",
    "drop_sel",
    "drop_vars",
    "dropna",
    "equals",
    "expand_dims",
    "ffill",
    "fillna",
    "from_cdms2",
    "from_dict",
    "from_iris",
    "from_series",
    "get_axis_num",
    "get_index",
    "groupby",
    "groupby_bins",
    "head",
    "identical",
    "idxmax",
    "idxmin",
    "integrate",
    "interp",
    "interp_like",
    "interpolate_na",
    "isel",
    "isin",
    "isnull",
    "item",
    "load",
    "map_blocks",
    "max",
    "mean",
    "median",
    "min",
    "notnull",
    "pad",
    "persist",
    "pipe",
    "polyfit",
    "prod",
    "quantile",
    "query",
    "rank",
    "reduce",
    "reindex",
    "reindex_like",
    "rename",
    "reorder_levels",
    "resample",
    "reset_coords",
    "reset_index",
    "roll",
    "rolling",
    "rolling_exp",
    "round",
    "searchsorted",
    "sel",
    "set_close",
    "set_index",
    "shift",
    "sortby",
    "squeeze",
    "stack",
    "std",
    "sum",
    "swap_dims",
    "tail",
    "thin",
    "to_cdms2",
    "to_dataframe",
    "to_dataset",
    "to_dict",
    "to_index",
    "to_iris",
    "to_masked_array",
    "to_netcdf",
    "to_pandas",
    "to_series",
    "to_unstacked_dataset",
    "transpose",
    "unify_chunks",
    "unstack",
    "var",
    "weighted",
    "where",
}
